<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typocraft Kinetic Engine</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&family=Bangers&family=Playfair+Display:ital,wght@1,900&family=Inter:wght@900&family=Oswald:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --p: #2ecc71; --bg: #050505; --panel: #111; }
        body { margin: 0; background: var(--bg); font-family: 'Montserrat', sans-serif; color: white; display: flex; height: 100vh; }
        
        /* Sidebar */
        .sidebar { width: 380px; background: var(--panel); padding: 20px; overflow-y: auto; border-right: 1px solid #222; }
        textarea { width: 100%; height: 80px; background: #1a1a1a; color: #fff; border: 1px solid #333; border-radius: 8px; padding: 10px; margin-bottom: 15px; resize: none; }
        .slot { background: #1a1a1a; padding: 12px; border-radius: 10px; margin-bottom: 10px; border-left: 4px solid var(--p); }
        .controls { display: flex; gap: 8px; margin-top: 5px; }
        select, input[type="color"] { flex: 1; background: #222; color: white; border: 1px solid #444; padding: 5px; border-radius: 5px; }
        
        /* Preview */
        .main-view { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; background: #000; }
        .canvas { width: 320px; height: 560px; border: 2px solid #333; border-radius: 15px; position: relative; overflow: hidden; background: #000; transition: background 0.5s; }
        
        /* Kinetic Text Styles */
        .word { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); opacity: 0; font-size: 40px; text-align: center; width: 100%; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); text-transform: uppercase; }
        
        .btn-group { margin-top: 20px; display: flex; gap: 10px; }
        button { cursor: pointer; padding: 10px 20px; border-radius: 8px; border: none; font-weight: bold; }
        .play-btn { background: var(--p); color: black; }
        .opt-btn { background: #333; color: white; }
    </style>
</head>
<body>

<div class="sidebar">
    <h2>Typocraft v3</h2>
    
    <label>Full Script (Font 1)</label>
    <textarea id="mainScript" placeholder="Type your full story here...">HELLO WELCOME TO TYPOCRAFT ENGINE</textarea>

    <div class="slot">
        <label>Font 2: Highlight Words</label>
        <input type="text" id="h1Words" placeholder="Words to highlight..." style="width:94%; margin-bottom:5px; background:#222; border:1px solid #444; color:white; padding:5px;">
        <div class="controls">
            <select id="f1"><option>Montserrat</option><option>Bangers</option><option>Oswald</option></select>
            <input type="color" id="c1" value="#2ecc71">
        </div>
    </div>

    <div class="slot">
        <label>Font 3: Special Accent</label>
        <input type="text" id="h2Words" placeholder="Extra special words..." style="width:94%; margin-bottom:5px; background:#222; border:1px solid #444; color:white; padding:5px;">
        <div class="controls">
            <select id="f2"><option>Playfair Display</option><option>Inter</option></select>
            <input type="color" id="c2" value="#ff4757">
        </div>
    </div>

    <label>Background Color</label>
    <input type="color" id="bgColor" value="#000000" onchange="document.getElementById('canvas').style.background = this.value" style="width:100%; margin-bottom:15px;">

    <button class="play-btn" style="width:100%" onclick="startEngine()">Generate & Play âœ¨</button>
    
    <div class="btn-group">
        <button class="opt-btn" onclick="pauseEngine()">Pause</button>
        <button class="opt-btn" onclick="startEngine()">Rewatch</button>
    </div>
</div>

<div class="main-view">
    <div class="canvas" id="canvas">
        <div id="display" class="word">TYPOCRAFT</div>
    </div>
</div>

<script>
    let timer;
    let isPaused = false;

    function startEngine() {
        const fullScript = document.getElementById('mainScript').value.split(' ');
        const h1 = document.getElementById('h1Words').value.split(' ');
        const h2 = document.getElementById('h2Words').value.split(' ');
        
        let index = 0;
        const display = document.getElementById('display');
        
        clearInterval(timer);
        
        timer = setInterval(() => {
            if(index >= fullScript.length) { clearInterval(timer); return; }
            
            let currentWord = fullScript[index];
            let font = 'Montserrat';
            let color = '#ffffff';
            let size = "40px";

            // Logic: Auto-Deduplication / Highlight check
            if(h2.includes(currentWord)) {
                font = document.getElementById('f2').value;
                color = document.getElementById('c2').value;
                size = "60px";
            } else if(h1.includes(currentWord)) {
                font = document.getElementById('f1').value;
                color = document.getElementById('c1').value;
                size = "55px";
            }

            // Kinetic Animation: Out with the old, In with the new
            display.style.opacity = 0;
            display.style.transform = "translate(-50%, -50%) scale(0.5) rotate(-5deg)";
            
            setTimeout(() => {
                display.innerText = currentWord;
                display.style.fontFamily = font;
                display.style.color = color;
                display.style.fontSize = size;
                display.style.opacity = 1;
                display.style.transform = "translate(-50%, -50%) scale(1.2) rotate(0deg)";
            }, 100);

            index++;
        }, 800);
    }

    function pauseEngine() { clearInterval(timer); }
</script>

</body>
</html>
